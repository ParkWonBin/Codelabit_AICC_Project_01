<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../common/css/common.css"/>
    <link rel="stylesheet" type="text/css" href="css/trafficChart.css"/>

    <script src="../common/js/jquery.js"></script>
    <script src="js/trafficChart.js"></script>
    <script src="js/chart.js"></script>

    <title>지하철 노선별 혼잡률</title>
<script>
    // const chart_percentageChanges = [[],[],[],[],[],[],[],[],[],[]];
    // let percentageChart;
    //
    // // HTML 로그완료될 떄 돌릴 함수
    // $(InitTrafficChart)
    //
    //
    // function InitTrafficChart(){
    //     const ctx = document.getElementById('percentageChart').getContext('2d');
    //     percentageChart = new Chart(ctx, {
    //         type: 'line',
    //         data: {
    //             labels: Array.from({ length: 10 }, (_, i) => ''),
    //             datasets: [
    //                 { label: '1호선 혼잡율', borderColor: 'rgb(0,82,164)', borderWidth: 1, fill: false, data: chart_percentageChanges[0] },
    //                 { label: '2호선 혼잡율', borderColor: 'rgb(0,168,77)', borderWidth: 1, fill: false, data: chart_percentageChanges[1] },
    //                 { label: '3호선 혼잡율', borderColor: 'rgb(239,124,28)', borderWidth: 1, fill: false, data: chart_percentageChanges[2] },
    //                 { label: '4호선 혼잡율', borderColor: 'rgb(0,164,227)', borderWidth: 1, fill: false, data: chart_percentageChanges[3] },
    //                 { label: '5호선 혼잡율', borderColor: 'rgb(153,108,172)', borderWidth: 1, fill: false, data: chart_percentageChanges[4] },
    //                 { label: '6호선 혼잡율', borderColor: 'rgb(205,124,239)', borderWidth: 1, fill: false, data: chart_percentageChanges[5] },
    //                 { label: '7호선 혼잡율', borderColor: 'rgb(116,127,0)', borderWidth: 1, fill: false, data: chart_percentageChanges[6] },
    //                 { label: '8호선 혼잡율', borderColor: 'rgb(230,24,108)', borderWidth: 1, fill: false, data: chart_percentageChanges[7] },
    //                 { label: '9호선 혼잡율', borderColor: 'rgb(189,176,146)', borderWidth: 1, fill: false, data: chart_percentageChanges[8] },
    //             ],
    //         },
    //         options: {
    //             scales: {
    //                 y: {
    //                     beginAtZero: false,
    //                 },
    //             },
    //         },
    //     });
    //     setInterval(flow_rate, 1000);
    // }
    //
    // function flow_rate() {
    //     const percentageChangeElements = document.querySelectorAll('.percentageChange');
    //
    //     percentageChangeElements.forEach(function(td, index) {
    //         const currentPercentage = parseFloat(td.textContent.replace('%', ''));
    //         const randomChangePercentage = (Math.random() - 0.5) * 10;
    //         const newPercentage = currentPercentage + randomChangePercentage;
    //
    //         td.textContent = newPercentage.toFixed(2) + '%';
    //
    //         chart_percentageChanges[index].push(newPercentage);
    //
    //         if (chart_percentageChanges[index].length > 10) {
    //             chart_percentageChanges[index].shift();
    //         }
    //     });
    //
    //     updateChart();
    // }
    //
    // function updateChart() {
    //     percentageChart.data.labels = Array.from({ length: 10 }, (_, i) => '');
    //     percentageChart.data.labels.push('');
    //     percentageChart.data.datasets.forEach((dataset, index) => {
    //         dataset.data = chart_percentageChanges[index];
    //     });
    //     percentageChart.update();
    // }
    //
    // $(InitTrafficChart);
</script>
</head>
<body>


<div id="trafficChart"></div>

<!--<table>-->
<!--    <tr>-->
<!--        <th></th>-->
<!--        <th>1호선</th>-->
<!--        <th>2호선</th>-->
<!--        <th>3호선</th>-->
<!--        <th>4호선</th>-->
<!--        <th>5호선</th>-->
<!--        <th>6호선</th>-->
<!--        <th>7호선</th>-->
<!--        <th>8호선</th>-->
<!--        <th>9호선</th>-->
<!--    </tr>-->
<!--    <tr id="percentageChangeRow">-->
<!--        <th>혼잡도(%)</th>-->
<!--        <td class="percentageChange">80%</td>-->
<!--        <td class="percentageChange">30%</td>-->
<!--        <td class="percentageChange">40%</td>-->
<!--        <td class="percentageChange">55%</td>-->
<!--        <td class="percentageChange">9%</td>-->
<!--        <td class="percentageChange">20%</td>-->
<!--        <td class="percentageChange">45%</td>-->
<!--        <td class="percentageChange">66%</td>-->
<!--        <td class="percentageChange">70%</td>-->
<!--    </tr>-->
<!--</table>-->

<!--<canvas id="percentageChart" width="1200" height="700"></canvas>-->

</body>
</html>
